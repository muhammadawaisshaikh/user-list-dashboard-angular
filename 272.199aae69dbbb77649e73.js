(self.webpackChunkuser_list_dashboard_angular=self.webpackChunkuser_list_dashboard_angular||[]).push([[272],{9272:(t,e,r)=>{"use strict";r.r(e),r.d(e,{UsersModule:()=>E});var n=r(8583),i=r(1841),o=r(665),a=r(8741),s=r(3018);let l=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-users"]],decls:1,vars:0,template:function(t,e){1&t&&s._UZ(0,"router-outlet")},directives:[a.lC],styles:[""]}),t})();var u=r(3962),c=r(2789),d=r(1494),m=r(2340);let p=(()=>{class t{constructor(){this.apiEndpoint=m.N.API_BASE_URL}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),g=(()=>{class t{constructor(t,e){this.config=t,this.http=e,this.url=`${this.config.apiEndpoint}/users`}getUsers(){return this.http.get(this.url)}getUser(t){return this.http.get(`${this.url}/${t}`)}addUser(t){return this.http.post(this.url,t)}updateUser(t,e){return this.http.put(`${this.url}/${e}`,t)}deleteUser(t){return this.http.delete(`${this.url}/${t}`)}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(p),s.LFG(i.eN))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var f=r(8295),h=r(9983);function Z(t,e){if(1&t&&(s.TgZ(0,"th",15),s._uU(1),s.qZA()),2&t){const t=s.oxw().$implicit;s.xp6(1),s.hij(" ",t," ")}}function C(t,e){if(1&t&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&t){const t=s.oxw().$implicit,e=s.oxw().$implicit;s.xp6(1),s.Oqu(t[e])}}function v(t,e){if(1&t&&s._UZ(0,"img",19),2&t){const t=s.oxw().$implicit,e=s.oxw().$implicit;s.s9C("src",t[e],s.LSH)}}function _(t,e){if(1&t&&(s.TgZ(0,"td",16),s.YNc(1,C,2,1,"span",17),s.YNc(2,v,1,1,"img",18),s.qZA()),2&t){const t=s.oxw().$implicit;s.xp6(1),s.Q6J("ngIf","profilePhoto"!==t),s.xp6(1),s.Q6J("ngIf","profilePhoto"===t)}}function b(t,e){1&t&&(s.ynx(0,12),s.YNc(1,Z,2,1,"th",13),s.YNc(2,_,3,2,"td",14),s.BQk()),2&t&&s.Q6J("matColumnDef",e.$implicit)}function U(t,e){1&t&&s._UZ(0,"tr",20)}function q(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"tr",21),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw().onViewUser(e)}),s.qZA()}}function w(t,e){if(1&t&&(s.TgZ(0,"tr",22),s.TgZ(1,"td",23),s._uU(2),s.qZA(),s.qZA()),2&t){s.oxw();const t=s.MAs(7);s.xp6(2),s.hij('No data matching the filter "',t.value,'"')}}const k=function(){return[5,10,20]};let M=(()=>{class t{constructor(t,e){this.router=t,this.usersService=e,this.paginator=5,this.accountData=[],this.displayedColumns=["firstName","lastName","email","personalId","profilePhoto","countryCode","mobileNumber","gender","street","city","country","zipCode"],this.dataSource=new c.by(this.accountData)}ngOnInit(){this.getUserListing()}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}getUserListing(){this.usersService.getUsers().subscribe(t=>{this.accountData=t,this.dataSource=new c.by(this.accountData),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}onViewUser(t){console.log(t),this.router.navigate(["/users/add-edit/",t.id],{state:{user:t}})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(a.F0),s.Y36(g))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-users-listing"]],viewQuery:function(t,e){if(1&t&&(s.Gf(u.NW,5),s.Gf(d.YE,5)),2&t){let t;s.iGM(t=s.CRH())&&(e.paginator=t.first),s.iGM(t=s.CRH())&&(e.sort=t.first)}},decls:14,vars:6,consts:[[1,"listing"],[1,"mat-elevation-z3"],[1,"form-input"],["appearance","fill"],["matInput","","placeholder","Filter by value",3,"keyup"],["input",""],["mat-table","","matSort","",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[4,"ngIf"],["alt","Profile",3,"src",4,"ngIf"],["alt","Profile",3,"src"],["mat-header-row",""],["mat-row","",3,"click"],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"mat-form-field",3),s.TgZ(4,"mat-label"),s._uU(5,"Filter"),s.qZA(),s.TgZ(6,"input",4,5),s.NdJ("keyup",function(t){return e.applyFilter(t)}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(8,"table",6),s.YNc(9,b,3,1,"ng-container",7),s.YNc(10,U,1,0,"tr",8),s.YNc(11,q,1,0,"tr",9),s.YNc(12,w,3,1,"tr",10),s.qZA(),s._UZ(13,"mat-paginator",11),s.qZA(),s.qZA()),2&t&&(s.xp6(8),s.Q6J("dataSource",e.dataSource),s.xp6(1),s.Q6J("ngForOf",e.displayedColumns),s.xp6(1),s.Q6J("matHeaderRowDef",e.displayedColumns),s.xp6(1),s.Q6J("matRowDefColumns",e.displayedColumns),s.xp6(2),s.Q6J("pageSizeOptions",s.DdM(5,k)))},directives:[f.KE,f.hX,h.Nt,c.BZ,d.YE,n.sg,c.as,c.nj,c.Ee,u.NW,c.w1,c.fO,c.Dz,c.ge,d.nU,c.ev,n.O5,c.XQ,c.Gk],styles:[".listing[_ngcontent-%COMP%]{padding:20px}.listing[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.listing[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-transform:capitalize}.listing[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{cursor:pointer}.listing[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;object-fit:cover;border-radius:50%;padding:5px 0;display:block;margin:auto}.listing[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:20px 20px 0}.listing[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}"]}),t})();function A(t,e,r,n,i,o,a){try{var s=t[o](a),l=s.value}catch(u){return void r(u)}s.done?e(l):Promise.resolve(l).then(n,i)}var x=r(7001);let P=(()=>{class t{constructor(t){this._snackBar=t}openSnackBar(t,e){this._snackBar.open(t,e,{duration:2e3})}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(x.ux))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var y=r(5618),I=r(3738),N=r(7441),T=r(2458),O=r(1095);function S(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"button",27),s.NdJ("click",function(){return s.CHM(t),s.oxw().deleteUser()}),s._uU(1,"Delete"),s.qZA()}}function F(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"button",28),s.NdJ("click",function(){s.CHM(t);const e=s.oxw();return e.onSave(e.programForm)}),s._uU(1,"Save "),s.qZA()}if(2&t){const t=s.oxw();s.Q6J("disabled",t.programForm.invalid)}}function J(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"button",28),s.NdJ("click",function(){s.CHM(t);const e=s.oxw();return e.onUpdate(e.programForm)}),s._uU(1,"Update "),s.qZA()}if(2&t){const t=s.oxw();s.Q6J("disabled",t.programForm.invalid)}}const D=[{path:"",component:l,children:[{path:"",component:M},{path:"user-listing",component:M},{path:"add-edit/:id",component:(()=>{class t{constructor(t,e,r,n){var i,a,s;this.router=t,this.fb=e,this.usersService=r,this.snackbar=n,this.programForm=o.cw,this.user={},this.isEditMode=!1,this.id="",this.pageUrl="",this.randomId=()=>Math.floor(65536*(1+Math.random())).toString(16).substring(1),this.user=null===(s=null===(a=null===(i=this.router.getCurrentNavigation())||void 0===i?void 0:i.extras)||void 0===a?void 0:a.state)||void 0===s?void 0:s.user}ngOnInit(){var t;this.pageUrl=window.location.href,this.formInit(),(null===(t=this.user)||void 0===t?void 0:t.id)?(this.programForm.patchValue(this.user),this.isEditMode=!0):this.isEditMode=!1,this.getPageDetails()}formInit(){this.programForm=this.fb.group({id:[this.randomId()],firstName:["",[o.kI.required,o.kI.maxLength(60)]],lastName:["",[o.kI.required,o.kI.maxLength(60)]],email:["",[o.kI.required,o.kI.email]],personalId:["",[o.kI.required,o.kI.minLength(11),o.kI.maxLength(11)]],profilePhoto:["https://i.ibb.co/2MH630J/user.png",[o.kI.required]],countryCode:["",[o.kI.required]],mobileNumber:["",[o.kI.required]],gender:["male",[o.kI.required]],street:["",[o.kI.required]],city:["",[o.kI.required]],country:["",[o.kI.required]],zipCode:["",[o.kI.required]]})}getPageDetails(){var t,e=this;return(t=function*(){e.id=yield e.pageUrl.split("/").at(-2),e.id&&e.usersService.getUser(e.id).subscribe(t=>{e.user=t[0],e.programForm.patchValue(e.user)}),0==e.id&&e.programForm.reset()},function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(t){A(o,n,i,a,s,"next",t)}function s(t){A(o,n,i,a,s,"throw",t)}a(void 0)})})()}onSave(t){this.usersService.addUser(t.value).subscribe(t=>{this.snackbar.openSnackBar(`${t.firstName} - New User Created`,"close"),this.router.navigateByUrl("/users/user-listing")},t=>{this.snackbar.openSnackBar("User Creation Failed!","Close"),this.router.navigateByUrl("/users/user-listing")})}onUpdate(t){var e;this.usersService.updateUser(t.value,null===(e=this.user)||void 0===e?void 0:e.id).subscribe(t=>{this.snackbar.openSnackBar(`${t.firstName} - User Updated`,"Close"),this.router.navigateByUrl("/users/user-listing")},t=>{this.snackbar.openSnackBar("User Updation Failed!","Close"),this.router.navigateByUrl("/users/user-listing")})}deleteUser(){var t;this.usersService.deleteUser(null===(t=this.user)||void 0===t?void 0:t.id).subscribe(t=>{this.snackbar.openSnackBar("User Deleted","Close"),this.router.navigateByUrl("/users/user-listing")},t=>{this.snackbar.openSnackBar("User Deletion Failed!","Close"),this.router.navigateByUrl("/users/user-listing")})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(a.F0),s.Y36(o.qu),s.Y36(g),s.Y36(P))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-add-edit-user"]],decls:65,vars:5,consts:[[1,"add-edit"],["fxLayout","row"],[1,"delete-user-action"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],[1,"image-preview"],["alt","Preview",3,"src"],[3,"formGroup"],["appearance","fill"],["matInput","","formControlName","firstName"],["matInput","","formControlName","lastName"],["matInput","","formControlName","email"],["matInput","","formControlName","personalId"],["matInput","","formControlName","profilePhoto"],["appearance","fill",1,"country-code"],["matInput","","formControlName","countryCode"],["appearance","fill",1,"mobile-number"],["matInput","","formControlName","mobileNumber"],["formControlName","gender"],["value","male"],["value","female"],["matInput","","formControlName","street"],["matInput","","formControlName","city"],["matInput","","formControlName","country"],["matInput","","formControlName","zipCode"],[1,"actions"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","secondary","routerLink","/users/user-listing"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"mat-card"),s.TgZ(3,"div",2),s.YNc(4,S,2,0,"button",3),s.qZA(),s.TgZ(5,"div",4),s._UZ(6,"img",5),s.qZA(),s.TgZ(7,"form",6),s.TgZ(8,"mat-form-field",7),s.TgZ(9,"mat-label"),s._uU(10,"First Name *"),s.qZA(),s._UZ(11,"input",8),s.qZA(),s.TgZ(12,"mat-form-field",7),s.TgZ(13,"mat-label"),s._uU(14,"Last Name *"),s.qZA(),s._UZ(15,"input",9),s.qZA(),s.TgZ(16,"mat-form-field",7),s.TgZ(17,"mat-label"),s._uU(18,"Email *"),s.qZA(),s._UZ(19,"input",10),s.qZA(),s.TgZ(20,"mat-form-field",7),s.TgZ(21,"mat-label"),s._uU(22,"Personal ID *"),s.qZA(),s._UZ(23,"input",11),s.qZA(),s.TgZ(24,"mat-form-field",7),s.TgZ(25,"mat-label"),s._uU(26,"Profile Photo"),s.qZA(),s._UZ(27,"input",12),s.qZA(),s.TgZ(28,"mat-form-field",13),s.TgZ(29,"mat-label"),s._uU(30,"+92 *"),s.qZA(),s._UZ(31,"input",14),s.qZA(),s.TgZ(32,"mat-form-field",15),s.TgZ(33,"mat-label"),s._uU(34,"Mobile Number *"),s.qZA(),s._UZ(35,"input",16),s.qZA(),s.TgZ(36,"mat-form-field",7),s.TgZ(37,"mat-label"),s._uU(38,"Gender *"),s.qZA(),s.TgZ(39,"mat-select",17),s.TgZ(40,"mat-option",18),s._uU(41,"Male"),s.qZA(),s.TgZ(42,"mat-option",19),s._uU(43,"Female"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(44,"mat-form-field",7),s.TgZ(45,"mat-label"),s._uU(46,"Street"),s.qZA(),s._UZ(47,"input",20),s.qZA(),s.TgZ(48,"mat-form-field",7),s.TgZ(49,"mat-label"),s._uU(50,"City"),s.qZA(),s._UZ(51,"input",21),s.qZA(),s.TgZ(52,"mat-form-field",7),s.TgZ(53,"mat-label"),s._uU(54,"Country"),s.qZA(),s._UZ(55,"input",22),s.qZA(),s.TgZ(56,"mat-form-field",7),s.TgZ(57,"mat-label"),s._uU(58,"Zip Code"),s.qZA(),s._UZ(59,"input",23),s.qZA(),s.TgZ(60,"div",24),s.YNc(61,F,2,1,"button",25),s.YNc(62,J,2,1,"button",25),s.TgZ(63,"button",26),s._uU(64,"Cancel "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(4),s.Q6J("ngIf",e.isEditMode),s.xp6(2),s.s9C("src",e.programForm.value.profilePhoto,s.LSH),s.xp6(1),s.Q6J("formGroup",e.programForm),s.xp6(54),s.Q6J("ngIf",!e.isEditMode),s.xp6(1),s.Q6J("ngIf",e.isEditMode))},directives:[y.xw,I.a8,n.O5,o._Y,o.JL,o.sg,f.KE,f.hX,h.Nt,o.Fj,o.JJ,o.u,N.gD,T.ey,O.lW,a.rH],styles:[".add-edit[_ngcontent-%COMP%]{padding:20px}.add-edit[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:48%;margin:10px}.add-edit[_ngcontent-%COMP%]   .mat-form-field.country-code[_ngcontent-%COMP%]{width:6%}.add-edit[_ngcontent-%COMP%]   .mat-form-field.mobile-number[_ngcontent-%COMP%]{width:40%}.add-edit[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{padding:10px}.add-edit[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:20px}.add-edit[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{padding:30px 0}.add-edit[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px;object-fit:cover;border-radius:50%;display:block;margin:auto}.add-edit[_ngcontent-%COMP%]   .delete-user-action[_ngcontent-%COMP%]{position:absolute;top:15px;right:15px}"]}),t})()}]}];let B=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[a.Bz.forChild(D)],a.Bz]}),t})();var Y=r(7290);let E=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[n.ez,B,Y.q,i.JF,o.u5,o.UX]]}),t})()}}]);